---
title: "function"
description: "JavaScript, function, resursion, scope"
date: 2024-02-14
---

## 作用域

作用域表示一个代码区域，也表示一个运行环境。

JS中，有两种作用域（暂时不包括ES6）

<p class="nd">全局作用域</P>

直接在脚本中写的代码

在全局作用域中声明的变量，会被提升到脚本块的顶部 [(hoisting)](https://developer.mozilla.org/zh-CN/docs/Glossary/Hoisting){:target="\_blank" class="external-link"}，并且会成为全局对象的属性。

<p class="nd">函数作用域</P>

函数中的代码

在函数作用域中声明的变量，会被提升到函数的顶部，并且不会成为全局对象的属性，**因此，函数中声明的变量不会导致全局对象的污染**。

应该尽量把功能封装在函数中。

但是，当函数称为一个表达式时，它既不会提升也不会污染全局对象。

将函数变为一个函数表达式的方式之一，将函数用小括号括起来[(立即执行函数)](https://developer.mozilla.org/zh-CN/docs/Glossary/IIFE){:target="\_blank" class="external-link"}。

然后，这样一来，函数无法通过名称调用，因此，函数名可以省略。

没有函数名的函数 -> 匿名函数

### 作用域中可以使用的变量

全局作用域只能使用全局作用域中声明的变量（包括函数）

函数作用域中不仅可以使用自身作用域中声明的变量（包括函数），还能使用外部环境的变量（全局作用域）。

有的时候，某个函数比较复杂，在编写的过程中，可能需要另外一些函数来辅助它完成一些功能，而这些函数仅仅会被该函数使用，不会再其他位置使用，则可以将这些函数声明到该函数的内部。

## 闭包

闭包是一种现象，内部函数可以使用外部函数环境中的变量。